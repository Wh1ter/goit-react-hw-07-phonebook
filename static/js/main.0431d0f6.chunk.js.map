{"version":3,"sources":["ContactForm/ContactForm.module.css","redux/app/app-actions.js","redux/app/app-reducer.js","redux/store.js","ContactForm/ContactForm.jsx","ContactList/ContactList.jsx","Filter/Filter.jsx","redux/app/app-operations.js","redux/app/contacts-selectors.js","App.js","index.js"],"names":["module","exports","axios","defaults","baseURL","addContactRequest","createAction","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","fetchContactRequest","fetchContactSuccess","fetchContactError","filterSet","contacts","createReducer","actions","_","payload","state","find","contact","name","alert","types","newArrAfterDel","filter","elem","id","filters","loading","combineReducers","console","log","getDefaultMiddleware","middleware","logger","store","configureStore","reducer","app","appReducer","devTools","process","ContactForm","number","handleChange","event","currentTarget","value","setState","handleSubmit","preventDefault","contactForAdd","props","onSubmitData","reset","className","style","contactform","type","onSubmit","this","pattern","title","required","onChange","Component","ContactList","deleteId","Id","del","createList","map","data-id","onClick","uuid","defaultProps","Filter","setFilterValue","toUpperCase","setFilterToState","dispatch","a","get","data","post","then","catch","error","contactId","delete","getFilter","getContacts","getIsLoading","getVisibleFilterArray","createSelector","newArr","includes","App","fetchContacts","visibleArray","isLoadingContacts","formSubmitHandler","contactDelete","connect","selectors","appOperations","contactData","str","appActions","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0431d0f6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"contactform\":\"ContactForm_contactform__3VNZN\"};","import axios from \"axios\";\nimport { createAction } from \"@reduxjs/toolkit\";\n\n\naxios.defaults.baseURL = \"http://localhost:4040\";\n\nconst addContactRequest = createAction(\"contacts/addContactRequest\");\nconst addContactSuccess = createAction(\"contacts/addContactSuccess\");\nconst addContactError = createAction(\"contacts/addContactError\");\n\nconst deleteContactRequest = createAction(\"contacts/deleteContactRequest\");\nconst deleteContactSuccess = createAction(\"contacts/deleteContactSuccess\");\nconst deleteContactError = createAction(\"contacts/deleteContactError\");\n\nconst fetchContactRequest = createAction(\"contacts/fetchContactRequest\");\nconst fetchContactSuccess = createAction(\"contacts/fetchContactSuccess\");\nconst fetchContactError = createAction(\"contacts/fetchContactError\");\n\n\nconst filterSet = createAction(\"app/setFilterArr\");\n\n// eslint-disable-next-line\nexport default {\n  filterSet,\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  fetchContactRequest,\n  fetchContactSuccess,\n  fetchContactError,\n};\n","import { combineReducers } from \"redux\";\nimport { createReducer } from \"@reduxjs/toolkit\";\nimport actions from \"./app-actions\";\n\nconst contacts = createReducer([], {\n  [actions.fetchContactSuccess]: (_, { payload }) => payload,\n  [actions.addContactSuccess]: (state, { payload }) => {\n    const contactExists = state.find(contact => contact.name === payload.name);\n\n    if (contactExists) {\n      alert(`${payload.name} - уже есть в списке :)`);\n      return state;\n    }\n    return [payload, ...state];\n  },\n  [actions.deleteContactSuccess]: (state, { types, payload }) => {\n    let newArrAfterDel = state.filter((elem) => elem.id !== payload);\n    return [...newArrAfterDel];\n  },\n});\n\nconst filters = createReducer(\"\", {\n  [actions.filterSet]: (state, { payload }) => {\n    return payload;\n  },\n});\n\n\n\nconst loading = createReducer(false, {\n  [actions.addContactRequest]: () => true,\n  [actions.addContactSuccess]: () => false,\n  [actions.addContactError]: () => false,\n  [actions.deleteContactRequest]: () => true,\n  [actions.deleteContactSuccess]: () => false,\n  [actions.deleteContactError]: () => false,\n  [actions.fetchContactRequest]: () => true,\n  [actions.fetchContactSuccess]: () => false,\n  [actions.fetchContactError]: () => false,\n});\n/* const filter = (state = \"\", { type, payload }) => {\n  switch (type) {\n    case types.FILTER_SET:\n      return payload;\n    default:\n      return state;\n  }\n}; */\n// _ - parameter not used\n\nexport default combineReducers({ contacts, filters, loading });","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\nimport logger from \"redux-logger\";\nimport appReducer from \"./app/app-reducer\";\n\nconsole.log(getDefaultMiddleware());\n\nconst middleware = [...getDefaultMiddleware(), logger];\nconst store = configureStore({\n  reducer: {\n    app: appReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === \"development\",\n});\n\nexport default store;\n","import style from \"./ContactForm.module.css\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nclass ContactForm extends Component {\n  state = {\n    name: \"\",\n    number: \"\",\n  };\n  handleChange = (event) => {\n    const { name, value } = event.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    let contactForAdd = { name: this.state.name, number: this.state.number };\n\n    this.props.onSubmitData(contactForAdd);\n\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ name: \"\", number: \"\" });\n  };\n  render() {\n    return (\n      <div className={style.contactform}>\n        <form type=\"submit\" onSubmit={this.handleSubmit}>\n          <label>\n            Name\n            <input\n              type=\"text\"\n              name=\"name\"\n              pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n              title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n              required\n              onChange={this.handleChange}\n              value={this.state.name}\n            />\n          </label>\n          <label>\n            Number\n            <input\n              type=\"tel\"\n              name=\"number\"\n              pattern=\"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})\"\n              title=\"Номер телефона должен состоять из 11-12 цифр и может содержать цифры, пробелы, тире, пузатые скобки и может начинаться с +\"\n              required\n              onChange={this.handleChange}\n              value={this.state.number}\n            />\n          </label>\n\n          <button type=\"submit\">Add contact</button>\n        </form>\n      </div>\n    );\n  }\n}\n\nContactForm.propTypes = {\n  onSubmitData: PropTypes.func.isRequired,\n};\n\nexport default ContactForm;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { uuid } from \"uuidv4\";\n\nclass ContactList extends Component {\n  deleteId = (Id) => {\n    this.props.del(Id);\n  };\n  createList = () => {\n    return this.props.contacts.map((contact) => {\n      return (\n        <li key={uuid()} id={contact.id}>\n          {`${contact.name}: ${contact.number}`}\n          <button\n            data-id={contact.id}\n            onClick={() => this.deleteId(contact.id)}\n          >\n            Delete\n          </button>\n        </li>\n      );\n    });\n  };\n\n  render() {\n    return <ul>{this.createList()}</ul>;\n  }\n}\n\nContactList.propTypes = {\n  contacts: PropTypes.array,\n  del: PropTypes.func.isRequired,\n};\n\nContactList.defaultProps = {\n  contacts: [],\n};\n\nexport default ContactList;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Filter extends Component {\n  setFilterValue = event => {\n    let value = event.currentTarget.value.toUpperCase();\n    this.props.setFilterToState(value);\n  };\n\n  render() {\n    return (\n      <div>\n        <h4>Find contacts by name</h4>\n        <input onChange={this.setFilterValue}></input>\n      </div>\n    );\n  }\n}\n\nFilter.propTypes = {\n  setFilterToState: PropTypes.func.isRequired,\n};\n\nexport default Filter;","import axios from \"axios\";\nimport actions from \"./app-actions\";\n\n\n//ASYNC Version\nconst fetchContacts = () => async (dispatch) => {\n  dispatch(actions.fetchContactRequest());\n  try {\n    const { data } = await axios.get(\"/contacts\");\n    dispatch(actions.fetchContactSuccess(data));\n  } catch (error) {\n    dispatch(actions.deleteContactError(error));\n  }\n};\n\nconst addContact = (contact) => (dispatch) => {\n  dispatch(actions.addContactRequest());\n\n  axios\n    .post(\"/contacts\", contact)\n    .then(({ data }) => dispatch(actions.addContactSuccess(data)))\n    .catch((error) => dispatch(actions.addContactError(error)));\n};\n\nconst deleteContact = (contactId) => (dispatch) => {\n  dispatch(actions.deleteContactRequest());\n  axios\n    .delete(`/contacts/${contactId}`)\n    .then(() => dispatch(actions.deleteContactSuccess(contactId)))\n    .catch((error) => dispatch(actions.deleteContactError(error)));\n};\n\n// eslint-disable-next-line\nexport default {\n  fetchContacts,\n  addContact,\n  deleteContact,\n};\n","import { createSelector } from \"@reduxjs/toolkit\";\n\nconst getIsLoading = (state) => state.app.loading;\nconst getFilter = (state) => state.app.filters;\nconst getContacts = (state) => state.app.contacts;\n\nconst getVisibleFilterArray = createSelector(\n  [getContacts, getFilter],\n  (contacts, filter) => {\n    let newArr = contacts.filter(({ name }) =>\n      name.toUpperCase().includes(filter)\n    );\n    return [...newArr];\n  }\n);\n\n// eslint-disable-next-line\nexport default {\n  getIsLoading,\n  getFilter,\n  getContacts,\n  getVisibleFilterArray,\n};\n","import React, { Component } from \"react\";\nimport ContactForm from \"./ContactForm/ContactForm\";\nimport ContactList from \"./ContactList/ContactList\";\nimport Filter from \"./Filter/Filter\";\nimport appActions from \"./redux/app/app-actions\";\nimport appOperations from \"./redux/app/app-operations\";\nimport { connect } from \"react-redux\";\nimport selectors from \"./redux/app/contacts-selectors\";\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.fetchContacts();\n  }\n\n  render() {\n    console.log(this.props.contacts);\n    console.log(this.props.filter);\n    console.log(this.props.visibleArray);\n\n    return (\n      <div className=\"App\">\n        <h1>Phonebook</h1>\n        {this.props.isLoadingContacts && <h2>Loading ...</h2>}\n        <ContactForm onSubmitData={this.props.formSubmitHandler} />\n        <h1>Contacts</h1>\n        <Filter setFilterToState={this.props.filterSet} />\n        <ContactList\n          contacts={this.props.visibleArray}\n          del={this.props.contactDelete}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isLoadingContacts: selectors.getIsLoading(state),\n  contacts: selectors.getContacts(state),\n  filter: selectors.getFilter(state),\n  visibleArray: selectors.getVisibleFilterArray(state),\n});\n\nconst mapDispatchToProrps = (dispatch) => ({\n  fetchContacts: () => dispatch(appOperations.fetchContacts()),\n  formSubmitHandler: (contactData) =>\n    dispatch(appOperations.addContact(contactData)),\n  contactDelete: (contactId) =>\n    dispatch(appOperations.deleteContact(contactId)),\n  filterSet: (str) => dispatch(appActions.filterSet(str)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProrps)(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}